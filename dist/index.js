"use strict";(()=>{function H(){var i;let r=document.querySelectorAll("[stamp='item']"),t=document.querySelectorAll("[stamp='card']"),l=[],o=[];for(let n=0;n<r.length;n++){let d=(i=r[n].querySelector("[stamp='type']"))==null?void 0:i.textContent,a=r[n].querySelector("[stamp='image']"),A=r[n].querySelectorAll("[stamp='product']"),S=document.querySelectorAll("[stamp='name']");for(let u=0;u<S.length;u++)o.push(S[u].textContent);l=Array.from(A).map(u=>u.textContent),l.some(u=>{if(o!=null&&o.includes(u)){for(let p=0;p<t.length;p++)if(t[p].innerHTML.includes(u)){let m=t[p].parentElement,x=m==null?void 0:m.parentElement;x==null||x.prepend(m),d!=null&&d.includes("Suosittelee")?(t[p].append(a==null?void 0:a.cloneNode(!0)),t[p].setAttribute("fs-cmssort-field","ajankohtaiset")):d!=null&&d.includes("Uutuus")&&(a==null||a.classList.add("uutuus"),t[p].append(a==null?void 0:a.cloneNode(!0)),t[p].setAttribute("fs-cmssort-field","ajankohtaiset"))}}})}let e=document.querySelector("[stamp='list-wrp']");e==null||e.remove()}function w(){var i;let r=document.querySelector("[allergens='header']"),t=Array.from(document.querySelectorAll("[allergens='item']")),l=[],o=[],e=[];for(let n=0;n<t.length;n++)t[n].innerHTML.includes("Vegaani-leima")||e.push(t[n].textContent);for(let n=0;n<e.length;n++)e[n].includes("Vegaani-leima")&&e.splice(e.indexOf(e[n]),1);if(e.join(""),e.length===1)e[0]=" "+e[0]+".",r.textContent="Ei sis\xE4ll\xE4 "+e[0];else if(e.length===2)e[0]=" "+e[0]+" eik\xE4 ",e[1]+=".",r.textContent="Ei sis\xE4ll\xE4 "+e[0]+e[1];else if(e.length>=3){let n=" "+e[0]+", ",d=e[e.length-1]+".",a=e[e.length-2]+" eik\xE4 ",A=e.slice(1,e.length-2);for(let S=0;S<A.length;S++)A[S]=A[S]+", ";l.push(n,A,a,d),o=l.flat(),o=o.join(""),r.textContent="Ei sis\xE4ll\xE4 "+o}(i=document.querySelector("[allergens='list']"))==null||i.remove()}function M(){let r=document.querySelector("[html-table='content']");if(r.textContent){let t=r.querySelector("strong").textContent,l=document.querySelector("[html-table='container"),o=document.createElement("table");o.classList.add("table"),l==null||l.appendChild(o);let e=o.createTHead();e.classList.add("table_thead");let i=o.createTBody(),n=Array.from(t.split("|")),d=e.insertRow(0),a=n[0];d.insertCell(0).innerHTML=a;let A=n.slice(1,-1);for(let s=0;s<A.length;s++){let g=d.insertCell();g.innerHTML=A[s],g.style.paddingLeft=".25rem",g.style.paddingRight=".25rem",g.style.textAlign="center"}let S=n.slice(-1),u=d.insertCell(-1);u.innerHTML=S,u.style.textAlign="right",u.style.paddingRight="1rem";let p=e.querySelectorAll("td").length,m=[],x=r.querySelectorAll("p");for(let s=0;s<x.length;s++)x[s].innerHTML.includes("<strong>")||m.push(x[s]);let b=[];for(let s=0;s<m.length;s++){let g=i.insertRow(),h=m[s].textContent;if(h[0]==="*")b.push(m[s]);else{let c=Array.from(h.split("|")),f=c[0],y=g.insertCell(0);y.innerHTML=f,y.style.paddingRight=".25rem";let L=c.slice(1);for(let T=0;T<L.length;T++){let C=g.insertCell();C.innerHTML=L[T],C.style.paddingLeft=".25rem",C.style.paddingRight=".25rem",p===2||L[T].includes("%")?(C.style.textAlign="right",C.style.paddingRight="1rem"):C.style.textAlign="center"}}let q=document.querySelectorAll("td");for(let c=0;c<q.length;c++)q[c].textContent[0]==="-"&&q[c].classList.add("padThisCell");if(m[s].innerHTML.includes("<em>")){let c=m[s].querySelector("em").textContent,f=i.querySelectorAll("td");for(let y=0;y<f.length;y++)f[y].innerHTML.includes(c)&&(f[y].innerHTML=f[y].innerHTML.replace(c,`<em>${c}</em>`))}r.style.display="none"}if(b.length>0){for(let h=0;h<b.length;h++){let q=b[h].textContent,c=i.insertRow();if(q[1]==="%"){let f=c.insertCell(0);f.innerHTML=q,f.colSpan=100}else{let f=q.slice(1),y=c.insertCell(0);y.innerHTML=f,y.colSpan=100}}let s=b[0].textContent.slice(1),g=i.querySelectorAll("tr");for(let h=0;h<g.length;h++)g[h].innerHTML.includes(s)&&g[h].classList.add("table_first-footnote")}}}function R(){let r=document.querySelector("[gallery='main-image']"),t=document.querySelector("[gallery='list']"),l=document.querySelector("[gallery='info-card']"),o=document.querySelector("[gallery='list-wrp']"),e=document.querySelector("[gallery='desktop']"),i;l.getAttribute("gallery-location")&&(i=Number(l.getAttribute("gallery-location"))-1),t.childElementCount===0?(o.remove(),l.getAttribute("gallery-location")?t.insertBefore(l,t.children[i]):l.insertAdjacentElement("afterend",r)):t.childElementCount===1?(t!=null&&t.querySelectorAll("invisible")&&o.remove(),l.getAttribute("gallery-location")?t.insertBefore(l,t.children[i]):e.insertBefore(r,t.children[1])):t.childElementCount>1&&(t.insertBefore(r,t.children[1]),l.getAttribute("gallery-location")?(t.insertBefore(l,t.children[i]),t.insertBefore(r,t.children[1])):t.insertBefore(l,t.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{H(),R(),M(),w()});})();
