"use strict";(()=>{function R(){var a;let o=document.querySelectorAll("[stamp='item']"),t=document.querySelectorAll("[stamp='card']"),r=[],m=[];for(let l=0;l<o.length;l++){let g=(a=o[l].querySelector("[stamp='type']"))==null?void 0:a.textContent,d=o[l].querySelector("[stamp='image']"),y=o[l].querySelectorAll("[stamp='product']"),C=document.querySelectorAll("[stamp='name']");for(let h=0;h<C.length;h++)m.push(C[h].textContent);r=Array.from(y).map(h=>h.textContent),r.some(h=>{if(m!=null&&m.includes(h)){for(let x=0;x<t.length;x++)if(t[x].innerHTML.includes(h)){let A=t[x].parentElement,b=A==null?void 0:A.parentElement;b==null||b.prepend(A),g!=null&&g.includes("Suosittelee")?(t[x].append(d==null?void 0:d.cloneNode(!0)),t[x].setAttribute("fs-cmssort-field","ajankohtaiset")):g!=null&&g.includes("Uutuus")&&(d==null||d.classList.add("uutuus"),t[x].append(d==null?void 0:d.cloneNode(!0)),t[x].setAttribute("fs-cmssort-field","ajankohtaiset"))}}})}let e=document.querySelector("[stamp='list-wrp']");e==null||e.remove()}function E(){var a;let o=document.querySelector("[allergens='header']"),t=Array.from(document.querySelectorAll("[allergens='item']")),r=[],m=[],e=[];for(let l=0;l<t.length;l++)t[l].innerHTML.includes("Vegaani-leima")||e.push(t[l].textContent);for(let l=0;l<e.length;l++)e[l].includes("Vegaani-leima")&&e.splice(e.indexOf(e[l]),1);if(e.join(""),e.length===1)e[0]=" "+e[0]+".",o.textContent="Ei sis\xE4ll\xE4 "+e[0];else if(e.length===2)e[0]=" "+e[0]+" eik\xE4 ",e[1]+=".",o.textContent="Ei sis\xE4ll\xE4 "+e[0]+e[1];else if(e.length>=3){let l=" "+e[0]+", ",g=e[e.length-1]+".",d=e[e.length-2]+" eik\xE4 ",y=e.slice(1,e.length-2);for(let C=0;C<y.length;C++)y[C]=y[C]+", ";r.push(l,y,d,g),m=r.flat(),m=m.join(""),o.textContent="Ei sis\xE4ll\xE4 "+m}(a=document.querySelector("[allergens='list']"))==null||a.remove()}function B(){var r;let o=document.querySelector("[html-table='content']");if(o.textContent){let M=function(){var u,f;let n=document.querySelectorAll("td");for(let s=0;s<n.length;s++)if((u=n[s].textContent)!=null&&u.includes("^")){let i=n[s].textContent.substring(n[s].textContent.indexOf("^"),n[s].textContent.length-1+1);n[s].textContent=(f=n[s].textContent)==null?void 0:f.replace(i,"");let c=document.createElement("sup");c.textContent=i.replace("^",""),c.classList.add("exponent"),n[s].appendChild(c)}};var t=M;let m=o.querySelector("strong").textContent,e=document.querySelector("[html-table='container"),a=document.createElement("table");a.classList.add("table"),e==null||e.appendChild(a);let l=a.createTHead();l.classList.add("table_thead");let g=a.createTBody(),d=Array.from(m.split("|")),y=l.insertRow(0),C=d[0];y.insertCell(0).innerHTML=C;let h=d.slice(1,-1);for(let n=0;n<h.length;n++){let u=y.insertCell();u.innerHTML=h[n],u.style.paddingLeft=".25rem",u.style.paddingRight=".25rem",u.style.textAlign="center"}let x=d.slice(-1),A=y.insertCell(-1);A.innerHTML=x,A.style.textAlign="right",A.style.paddingRight="1rem";let b=l.querySelectorAll("td").length,q=[],w=o.querySelectorAll("p");for(let n=0;n<w.length;n++)w[n].innerHTML.includes("<strong>")||q.push(w[n]);let L=[];for(let n=0;n<q.length;n++){let u=g.insertRow(),f=q[n].textContent;if(f[0]==="*")L.push(q[n]);else{let i=Array.from(f.split("|")),c=i[0],p=u.insertCell(0);p.innerHTML=c,p.style.paddingRight=".25rem";let T=i.slice(1);for(let H=0;H<T.length;H++){let S=u.insertCell();S.innerHTML=T[H],S.style.paddingLeft=".25rem",S.style.paddingRight=".25rem",b===2||T[H].includes("%")?(S.style.textAlign="right",S.style.paddingRight="1rem"):S.style.textAlign="center"}}let s=document.querySelectorAll("td");for(let i=0;i<s.length;i++)s[i].textContent[0]==="-"&&s[i].classList.add("padThisCell");if((r=q[n].textContent)!=null&&r.includes("^")&&M(),q[n].innerHTML.includes("<em>")){let i=q[n].querySelector("em").textContent,c=g.querySelectorAll("td");for(let p=0;p<c.length;p++)c[p].innerHTML.includes(i)&&(c[p].innerHTML=c[p].innerHTML.replace(i,`<em>${i}</em>`))}o.style.display="none"}if(L.length>0){for(let f=0;f<L.length;f++){let s=L[f].textContent,i=g.insertRow();if(s[1]==="%"){let c=i.insertCell(0);c.innerHTML=s,c.colSpan=100}else{let c=s.slice(1),p=i.insertCell(0);p.innerHTML=c,p.colSpan=100}}let n=L[0].textContent.slice(1),u=g.querySelectorAll("tr");for(let f=0;f<u.length;f++)u[f].innerHTML.includes(n)&&u[f].classList.add("table_first-footnote")}}}function k(){let o=document.querySelector("[gallery='main-image']"),t=document.querySelector("[gallery='list']"),r=document.querySelector("[gallery='info-card']"),m=document.querySelector("[gallery='list-wrp']"),e=document.querySelector("[gallery='desktop']"),a;r.getAttribute("gallery-location")&&(a=Number(r.getAttribute("gallery-location"))-1),t.childElementCount===0?(m.remove(),r.getAttribute("gallery-location")?t.insertBefore(r,t.children[a]):r.insertAdjacentElement("afterend",o)):t.childElementCount===1?r.getAttribute("gallery-location")?t.insertBefore(r,t.children[a]):e.insertBefore(o,t.children[1]):t.childElementCount>1&&(t.insertBefore(o,t.children[1]),r.getAttribute("gallery-location")?(t.insertBefore(r,t.children[a]),t.insertBefore(o,t.children[1])):t.insertBefore(r,t.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{document.querySelector("[swiper='index-hero']")||(R(),k(),B(),E())});})();
