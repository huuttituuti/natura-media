"use strict";(()=>{function B(){var g;let i=document.querySelectorAll("[stamp='item']"),a=document.querySelectorAll("[stamp='card']"),l=[],r=[];for(let t=0;t<i.length;t++){let o=(g=i[t].querySelector("[stamp='type']"))==null?void 0:g.textContent,s=i[t].querySelector("[stamp='image']"),y=i[t].querySelectorAll("[stamp='product']"),x=document.querySelectorAll("[stamp='name']");for(let h=0;h<x.length;h++)r.push(x[h].textContent);l=Array.from(y).map(h=>h.textContent),l.some(h=>{if(r!=null&&r.includes(h)){for(let C=0;C<a.length;C++)if(a[C].innerHTML.includes(h)){let A=a[C].parentElement,b=A==null?void 0:A.parentElement;b==null||b.prepend(A),o!=null&&o.includes("Suosittelee")?(a[C].append(s==null?void 0:s.cloneNode(!0)),a[C].setAttribute("fs-cmssort-field","ajankohtaiset")):o!=null&&o.includes("Uutuus")&&(s==null||s.classList.add("uutuus"),a[C].append(s==null?void 0:s.cloneNode(!0)),a[C].setAttribute("fs-cmssort-field","ajankohtaiset"))}}})}let e=document.querySelector("[stamp='list-wrp']");e==null||e.remove()}function R(){var g;let i=document.querySelector("[allergens='header']"),a=Array.from(document.querySelectorAll("[allergens='item']")),l=[],r=[],e=[];for(let t=0;t<a.length;t++)a[t].innerHTML.includes("Vegaani-leima")||e.push(a[t].textContent);for(let t=0;t<e.length;t++)e[t].includes("Vegaani-leima")&&e.splice(e.indexOf(e[t]),1);if(e.join(""),e.length===1)e[0]=" "+e[0]+".",i.textContent="Ei sis\xE4ll\xE4 "+e[0];else if(e.length===2)e[0]=" "+e[0]+" eik\xE4 ",e[1]+=".",i.textContent="Ei sis\xE4ll\xE4 "+e[0]+e[1];else if(e.length>=3){let t=" "+e[0]+", ",o=e[e.length-1]+".",s=e[e.length-2]+" eik\xE4 ",y=e.slice(1,e.length-2);for(let x=0;x<y.length;x++)y[x]=y[x]+", ";l.push(t,y,s,o),r=l.flat(),r=r.join(""),i.textContent="Ei sis\xE4ll\xE4 "+r}(g=document.querySelector("[allergens='list']"))==null||g.remove()}function E(){var l;let i=document.querySelector("[html-table='content']");if(i.textContent){let M=function(){var f,m;let n=document.querySelectorAll("td");for(let c=0;c<n.length;c++)if((f=n[c].textContent)!=null&&f.includes("^")){let d=n[c].textContent.substring(n[c].textContent.indexOf("^"),n[c].textContent.length-1+1);n[c].textContent=(m=n[c].textContent)==null?void 0:m.replace(d,"");let u=document.createElement("sup");u.textContent=d.replace("^",""),u.classList.add("exponent"),n[c].appendChild(u)}};var a=M;let r=i.querySelector("strong").textContent,e=document.querySelector("[html-table='container"),g=document.createElement("table");g.classList.add("table"),e==null||e.appendChild(g);let t=g.createTHead();t.classList.add("table_thead");let o=g.createTBody(),s=Array.from(r.split("|")),y=t.insertRow(0),x=s[0];y.insertCell(0).innerHTML=x;let h=s.slice(1,-1);for(let n=0;n<h.length;n++){let f=y.insertCell();f.innerHTML=h[n],f.style.paddingLeft=".25rem",f.style.paddingRight=".25rem",f.style.textAlign="center"}let C=s.slice(-1),A=y.insertCell(-1);A.innerHTML=C,A.style.textAlign="right",A.style.paddingRight="1rem";let b=t.querySelectorAll("td").length,q=[],H=i.querySelectorAll("p");for(let n=0;n<H.length;n++)H[n].innerHTML.includes("<strong>")||q.push(H[n]);let L=[];for(let n=0;n<q.length;n++){let f=o.insertRow(),m=q[n].textContent;if(m[0]==="*")L.push(q[n]);else{let d=Array.from(m.split("|")),u=d[0],p=f.insertCell(0);p.innerHTML=u,p.style.paddingRight=".25rem";let T=d.slice(1);for(let w=0;w<T.length;w++){let S=f.insertCell();S.innerHTML=T[w],S.style.paddingLeft=".25rem",S.style.paddingRight=".25rem",b===2||T[w].includes("%")?(S.style.textAlign="right",S.style.paddingRight="1rem"):S.style.textAlign="center"}}let c=document.querySelectorAll("td");for(let d=0;d<c.length;d++)c[d].textContent[0]==="-"&&c[d].classList.add("padThisCell");if((l=q[n].textContent)!=null&&l.includes("^")&&M(),q[n].innerHTML.includes("<em>")){let d=q[n].querySelector("em").textContent,u=o.querySelectorAll("td");for(let p=0;p<u.length;p++)u[p].innerHTML.includes(d)&&(u[p].innerHTML=u[p].innerHTML.replace(d,`<em>${d}</em>`))}i.style.display="none"}if(L.length>0){for(let m=0;m<L.length;m++){let c=L[m].textContent,d=o.insertRow();if(c[1]==="%"){let u=d.insertCell(0);u.innerHTML=c,u.colSpan=100}else{let u=c.slice(1),p=d.insertCell(0);p.innerHTML=u,p.colSpan=100}}let n=L[0].textContent.slice(1),f=o.querySelectorAll("tr");for(let m=0;m<f.length;m++)f[m].innerHTML.includes(n)&&f[m].classList.add("table_first-footnote")}}}function v(){let i=document.querySelector("[gallery='main-image']"),a=document.querySelector("[gallery='no-image']"),l=document.querySelector("[gallery='list']"),r=document.querySelector("[gallery='info-card']"),e=document.querySelector("[gallery='video-card']"),g=document.querySelector("[gallery='list-wrp']"),t=document.querySelector("[gallery='desktop']"),o,s;a!=null&&a.classList.contains("w-condition-invisible")&&a.remove(),r.getAttribute("gallery-location")&&(o=Number(r.getAttribute("gallery-location"))-1),e.getAttribute("gallery-location")&&(s=Number(e.getAttribute("gallery-location"))-1),l.childElementCount===0?(g.remove(),r.getAttribute("gallery-location")?l.insertBefore(r,l.children[o]):r.insertAdjacentElement("afterend",i)):l.childElementCount===1?e?e&&window.innerWidth>991&&(t.insertBefore(e,t.children[s]),t.insertBefore(r,t.children[o])):r.getAttribute("gallery-location")?l.insertBefore(r,l.children[o]):t.insertBefore(i,l.children[1]):l.childElementCount>1&&(l.insertBefore(i,l.children[1]),r.getAttribute("gallery-location")?(l.insertBefore(r,l.children[o]),l.insertBefore(i,l.children[1])):l.insertBefore(r,l.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{document.querySelector("[swiper='index-hero']")||(B(),v(),E(),R())});})();
