"use strict";(()=>{function w(){var g,o;let l=document.querySelectorAll("[stamp='item']"),e=document.querySelectorAll("[stamp='card']"),t=[];for(let y=0;y<l.length;y++){let m=(g=l[y].querySelector("[stamp='type']"))==null?void 0:g.textContent,d=l[y].querySelector("[stamp='image']"),b=l[y].querySelectorAll("[stamp='product']"),S=(o=document.querySelector("[stamp='name']"))==null?void 0:o.textContent;t=Array.from(b).map(s=>s.textContent);for(let s=0;s<e.length;s++)t.some(x=>{S!=null&&S.includes(x)&&(m!=null&&m.includes("Suosittelee")?(e[s].append(d==null?void 0:d.cloneNode(!0)),e[s].setAttribute("fs-cmssort-field","ajankohtaiset")):m!=null&&m.includes("Uutuus")&&(d==null||d.classList.add("uutuus"),e[s].append(d==null?void 0:d.cloneNode(!0)),e[s].setAttribute("fs-cmssort-field","ajankohtaiset")))})}let c=document.querySelector("[stamp='list-wrp']");c==null||c.remove()}function H(){let l=document.querySelector("[gallery='main-image']"),e=document.querySelector("[gallery='list']"),t=document.querySelector("[gallery='info-card']"),c=document.querySelector("[gallery='list-wrp']"),g=document.querySelector("[gallery='desktop']"),o;t.getAttribute("gallery-location")&&(o=Number(t.getAttribute("gallery-location"))-1),e.childElementCount===0?(c.remove(),t.getAttribute("gallery-location")?e.insertBefore(t,e.children[o]):t.insertAdjacentElement("afterend",l)):e.childElementCount===1?(e!=null&&e.querySelectorAll("invisible")&&c.remove(),t.getAttribute("gallery-location")?e.insertBefore(t,e.children[o]):g.insertBefore(l,e.children[1])):e.childElementCount>1&&(e.insertBefore(l,e.children[1]),t.getAttribute("gallery-location")?(e.insertBefore(t,e.children[o]),e.insertBefore(l,e.children[1])):e.insertBefore(t,e.children[3]))}function M(){let l=document.querySelector("[html-table='content']");if(l.textContent){let e=l.querySelector("strong").textContent,t=document.querySelector("[html-table='container"),c=document.createElement("table");c.classList.add("table"),t==null||t.appendChild(c);let g=c.createTHead();g.classList.add("table_thead");let o=c.createTBody(),y=Array.from(e.split("|")),m=g.insertRow(0),d=y[0];m.insertCell(0).innerHTML=d;let b=y.slice(1,-1);for(let n=0;n<b.length;n++){let a=m.insertCell();a.innerHTML=b[n],a.style.paddingLeft=".25rem",a.style.paddingRight=".25rem",a.style.textAlign="center"}let S=y.slice(-1),s=m.insertCell(-1);s.innerHTML=S,s.style.textAlign="right",s.style.paddingRight="1rem";let x=g.querySelectorAll("td").length,A=[],T=l.querySelectorAll("p");for(let n=0;n<T.length;n++)T[n].innerHTML.includes("<strong>")||A.push(T[n]);let C=[];for(let n=0;n<A.length;n++){let a=o.insertRow(),u=A[n].textContent;if(u[0]==="*")C.push(A[n]);else{let r=Array.from(u.split("|")),i=r[0],f=a.insertCell(0);f.innerHTML=i,f.style.paddingRight=".25rem";let q=r.slice(1);for(let L=0;L<q.length;L++){let p=a.insertCell();p.innerHTML=q[L],p.style.paddingLeft=".25rem",p.style.paddingRight=".25rem",x===2||q[L].includes("%")?(p.style.textAlign="right",p.style.paddingRight="1rem"):p.style.textAlign="center"}}let h=document.querySelectorAll("td");for(let r=0;r<h.length;r++)h[r].textContent[0]==="-"&&h[r].classList.add("padThisCell");if(A[n].innerHTML.includes("<em>")){let r=A[n].querySelector("em").textContent,i=o.querySelectorAll("td");for(let f=0;f<i.length;f++)i[f].innerHTML.includes(r)&&(i[f].innerHTML=i[f].innerHTML.replace(r,`<em>${r}</em>`))}l.style.display="none"}if(C.length>0){for(let u=0;u<C.length;u++){let h=C[u].textContent,r=o.insertRow();if(h[1]==="%"){let i=r.insertCell(0);i.innerHTML=h,i.colSpan=100}else{let i=h.slice(1),f=r.insertCell(0);f.innerHTML=i,f.colSpan=100}}let n=C[0].textContent.slice(1),a=o.querySelectorAll("tr");for(let u=0;u<a.length;u++)a[u].innerHTML.includes(n)&&a[u].classList.add("table_first-footnote")}}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{w(),H(),M()});})();
