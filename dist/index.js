"use strict";(()=>{function B(){var g;let i=document.querySelectorAll("[stamp='item']"),d=document.querySelectorAll("[stamp='card']"),l=[],o=[];for(let t=0;t<i.length;t++){let r=(g=i[t].querySelector("[stamp='type']"))==null?void 0:g.textContent,s=i[t].querySelector("[stamp='image']"),y=i[t].querySelectorAll("[stamp='product']"),C=document.querySelectorAll("[stamp='name']");for(let h=0;h<C.length;h++)o.push(C[h].textContent);l=Array.from(y).map(h=>h.textContent),l.some(h=>{if(o!=null&&o.includes(h)){for(let x=0;x<d.length;x++)if(d[x].innerHTML.includes(h)){let A=d[x].parentElement,q=A==null?void 0:A.parentElement;q==null||q.prepend(A),r!=null&&r.includes("Suosittelee")?(d[x].append(s==null?void 0:s.cloneNode(!0)),d[x].setAttribute("fs-cmssort-field","ajankohtaiset")):r!=null&&r.includes("Uutuus")&&(s==null||s.classList.add("uutuus"),d[x].append(s==null?void 0:s.cloneNode(!0)),d[x].setAttribute("fs-cmssort-field","ajankohtaiset"))}}})}let e=document.querySelector("[stamp='list-wrp']");e==null||e.remove()}function R(){var g;let i=document.querySelector("[allergens='header']"),d=Array.from(document.querySelectorAll("[allergens='item']")),l=[],o=[],e=[];for(let t=0;t<d.length;t++)d[t].innerHTML.includes("Vegaani-leima")||e.push(d[t].textContent);for(let t=0;t<e.length;t++)e[t].includes("Vegaani-leima")&&e.splice(e.indexOf(e[t]),1);if(e.join(""),e.length===1)e[0]=" "+e[0]+".",i.textContent="Ei sis\xE4ll\xE4 "+e[0];else if(e.length===2)e[0]=" "+e[0]+" eik\xE4 ",e[1]+=".",i.textContent="Ei sis\xE4ll\xE4 "+e[0]+e[1];else if(e.length>=3){let t=" "+e[0]+", ",r=e[e.length-1]+".",s=e[e.length-2]+" eik\xE4 ",y=e.slice(1,e.length-2);for(let C=0;C<y.length;C++)y[C]=y[C]+", ";l.push(t,y,s,r),o=l.flat(),o=o.join(""),i.textContent="Ei sis\xE4ll\xE4 "+o}(g=document.querySelector("[allergens='list']"))==null||g.remove()}function E(){var l;let i=document.querySelector("[html-table='content']");if(i.textContent){let M=function(){var f,m;let n=document.querySelectorAll("td");for(let c=0;c<n.length;c++)if((f=n[c].textContent)!=null&&f.includes("^")){let a=n[c].textContent.substring(n[c].textContent.indexOf("^"),n[c].textContent.length-1+1);n[c].textContent=(m=n[c].textContent)==null?void 0:m.replace(a,"");let u=document.createElement("sup");u.textContent=a.replace("^",""),u.classList.add("exponent"),n[c].appendChild(u)}};var d=M;let o=i.querySelector("strong").textContent,e=document.querySelector("[html-table='container"),g=document.createElement("table");g.classList.add("table"),e==null||e.appendChild(g);let t=g.createTHead();t.classList.add("table_thead");let r=g.createTBody(),s=Array.from(o.split("|")),y=t.insertRow(0),C=s[0];y.insertCell(0).innerHTML=C;let h=s.slice(1,-1);for(let n=0;n<h.length;n++){let f=y.insertCell();f.innerHTML=h[n],f.style.paddingLeft=".25rem",f.style.paddingRight=".25rem",f.style.textAlign="center"}let x=s.slice(-1),A=y.insertCell(-1);A.innerHTML=x,A.style.textAlign="right",A.style.paddingRight="1rem";let q=t.querySelectorAll("td").length,b=[],H=i.querySelectorAll("p");for(let n=0;n<H.length;n++)H[n].innerHTML.includes("<strong>")||b.push(H[n]);let L=[];for(let n=0;n<b.length;n++){let f=r.insertRow(),m=b[n].textContent;if(m[0]==="*")L.push(b[n]);else{let a=Array.from(m.split("|")),u=a[0],p=f.insertCell(0);p.innerHTML=u,p.style.paddingRight=".25rem";let T=a.slice(1);for(let w=0;w<T.length;w++){let S=f.insertCell();S.innerHTML=T[w],S.style.paddingLeft=".25rem",S.style.paddingRight=".25rem",q===2||T[w].includes("%")?(S.style.textAlign="right",S.style.paddingRight="1rem"):S.style.textAlign="center"}}let c=document.querySelectorAll("td");for(let a=0;a<c.length;a++)c[a].textContent[0]==="-"&&c[a].classList.add("padThisCell");if((l=b[n].textContent)!=null&&l.includes("^")&&M(),b[n].innerHTML.includes("<em>")){let a=b[n].querySelector("em").textContent,u=r.querySelectorAll("td");for(let p=0;p<u.length;p++)u[p].innerHTML.includes(a)&&(u[p].innerHTML=u[p].innerHTML.replace(a,`<em>${a}</em>`))}i.style.display="none"}if(L.length>0){for(let m=0;m<L.length;m++){let c=L[m].textContent,a=r.insertRow();if(c[1]==="%"){let u=a.insertCell(0);u.innerHTML=c,u.colSpan=100}else{let u=c.slice(1),p=a.insertCell(0);p.innerHTML=u,p.colSpan=100}}let n=L[0].textContent.slice(1),f=r.querySelectorAll("tr");for(let m=0;m<f.length;m++)f[m].innerHTML.includes(n)&&f[m].classList.add("table_first-footnote")}}}function v(){let i=document.querySelector("[gallery='main-image']"),d=document.querySelector("[gallery='no-image']"),l=document.querySelector("[gallery='list']"),o=document.querySelector("[gallery='info-card']"),e=document.querySelector("[gallery='video-card']"),g=document.querySelector("[gallery='list-wrp']"),t=document.querySelector("[gallery='desktop']"),r,s;d!=null&&d.classList.contains("w-condition-invisible")&&d.remove(),e!=null&&e.classList.contains("w-condition-invisible")&&e.remove(),o.getAttribute("gallery-location")&&(r=Number(o.getAttribute("gallery-location"))-1),e.getAttribute("gallery-location")&&(s=Number(e.getAttribute("gallery-location"))-1),l.childElementCount===0?(g.remove(),o.getAttribute("gallery-location")?l.insertBefore(o,l.children[r]):o.insertAdjacentElement("afterend",i)):l.childElementCount===1?e?e&&window.innerWidth>991&&(t.insertBefore(e,t.children[s]),t.insertBefore(o,t.children[r])):o.getAttribute("gallery-location")?l.insertBefore(o,l.children[r]):t.insertBefore(i,l.children[1]):l.childElementCount>1&&(l.insertBefore(i,l.children[1]),o.getAttribute("gallery-location")?(l.insertBefore(o,l.children[r]),l.insertBefore(i,l.children[1])):l.insertBefore(o,l.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{document.querySelector("[swiper='index-hero']")||(B(),v(),E(),R())});})();
