"use strict";(()=>{function H(){var e,i;let r=document.querySelectorAll("[stamp='item']"),t=document.querySelectorAll("[stamp='card']"),l=[];for(let n=0;n<r.length;n++){let d=(e=r[n].querySelector("[stamp='type']"))==null?void 0:e.textContent,a=r[n].querySelector("[stamp='image']"),p=r[n].querySelectorAll("[stamp='product']"),y=(i=document.querySelector("[stamp='name']"))==null?void 0:i.textContent;l=Array.from(p).map(u=>u.textContent);for(let u=0;u<t.length;u++)l.some(L=>{y!=null&&y.includes(L)&&(d!=null&&d.includes("Suosittelee")?(t[u].append(a==null?void 0:a.cloneNode(!0)),t[u].setAttribute("fs-cmssort-field","ajankohtaiset")):d!=null&&d.includes("Uutuus")&&(a==null||a.classList.add("uutuus"),t[u].append(a==null?void 0:a.cloneNode(!0)),t[u].setAttribute("fs-cmssort-field","ajankohtaiset")))})}let o=document.querySelector("[stamp='list-wrp']");o==null||o.remove()}function w(){var i;let r=document.querySelector("[allergens='header']"),t=Array.from(document.querySelectorAll("[allergens='item']")),l=[],o=[],e=[];for(let n=0;n<t.length;n++)t[n].innerHTML.includes("Vegaani-leima")||e.push(t[n].textContent);for(let n=0;n<e.length;n++)e[n].includes("Vegaani-leima")&&e.splice(e.indexOf(e[n]),1);if(e.join(""),e.length===1)e[0]=" "+e[0]+".",r.textContent="Ei sis\xE4ll\xE4 "+e[0];else if(e.length===2)e[0]=" "+e[0]+" eik\xE4 ",e[1]+=".",r.textContent="Ei sis\xE4ll\xE4 "+e[0]+e[1];else if(e.length>=3){let n=" "+e[0]+", ",d=e[e.length-1]+".",a=e[e.length-2]+" eik\xE4 ",p=e.slice(1,e.length-2);for(let y=0;y<p.length;y++)p[y]=p[y]+", ";l.push(n,p,a,d),o=l.flat(),o=o.join(""),r.textContent="Ei sis\xE4ll\xE4 "+o}(i=document.querySelector("[allergens='list']"))==null||i.remove()}function M(){let r=document.querySelector("[html-table='content']");if(r.textContent){let t=r.querySelector("strong").textContent,l=document.querySelector("[html-table='container"),o=document.createElement("table");o.classList.add("table"),l==null||l.appendChild(o);let e=o.createTHead();e.classList.add("table_thead");let i=o.createTBody(),n=Array.from(t.split("|")),d=e.insertRow(0),a=n[0];d.insertCell(0).innerHTML=a;let p=n.slice(1,-1);for(let s=0;s<p.length;s++){let m=d.insertCell();m.innerHTML=p[s],m.style.paddingLeft=".25rem",m.style.paddingRight=".25rem",m.style.textAlign="center"}let y=n.slice(-1),u=d.insertCell(-1);u.innerHTML=y,u.style.textAlign="right",u.style.paddingRight="1rem";let L=e.querySelectorAll("td").length,C=[],T=r.querySelectorAll("p");for(let s=0;s<T.length;s++)T[s].innerHTML.includes("<strong>")||C.push(T[s]);let x=[];for(let s=0;s<C.length;s++){let m=i.insertRow(),g=C[s].textContent;if(g[0]==="*")x.push(C[s]);else{let c=Array.from(g.split("|")),f=c[0],h=m.insertCell(0);h.innerHTML=f,h.style.paddingRight=".25rem";let q=c.slice(1);for(let b=0;b<q.length;b++){let A=m.insertCell();A.innerHTML=q[b],A.style.paddingLeft=".25rem",A.style.paddingRight=".25rem",L===2||q[b].includes("%")?(A.style.textAlign="right",A.style.paddingRight="1rem"):A.style.textAlign="center"}}let S=document.querySelectorAll("td");for(let c=0;c<S.length;c++)S[c].textContent[0]==="-"&&S[c].classList.add("padThisCell");if(C[s].innerHTML.includes("<em>")){let c=C[s].querySelector("em").textContent,f=i.querySelectorAll("td");for(let h=0;h<f.length;h++)f[h].innerHTML.includes(c)&&(f[h].innerHTML=f[h].innerHTML.replace(c,`<em>${c}</em>`))}r.style.display="none"}if(x.length>0){for(let g=0;g<x.length;g++){let S=x[g].textContent,c=i.insertRow();if(S[1]==="%"){let f=c.insertCell(0);f.innerHTML=S,f.colSpan=100}else{let f=S.slice(1),h=c.insertCell(0);h.innerHTML=f,h.colSpan=100}}let s=x[0].textContent.slice(1),m=i.querySelectorAll("tr");for(let g=0;g<m.length;g++)m[g].innerHTML.includes(s)&&m[g].classList.add("table_first-footnote")}}}function R(){let r=document.querySelector("[gallery='main-image']"),t=document.querySelector("[gallery='list']"),l=document.querySelector("[gallery='info-card']"),o=document.querySelector("[gallery='list-wrp']"),e=document.querySelector("[gallery='desktop']"),i;l.getAttribute("gallery-location")&&(i=Number(l.getAttribute("gallery-location"))-1),t.childElementCount===0?(o.remove(),l.getAttribute("gallery-location")?t.insertBefore(l,t.children[i]):l.insertAdjacentElement("afterend",r)):t.childElementCount===1?(t!=null&&t.querySelectorAll("invisible")&&o.remove(),l.getAttribute("gallery-location")?t.insertBefore(l,t.children[i]):e.insertBefore(r,t.children[1])):t.childElementCount>1&&(t.insertBefore(r,t.children[1]),l.getAttribute("gallery-location")?(t.insertBefore(l,t.children[i]),t.insertBefore(r,t.children[1])):t.insertBefore(l,t.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{H(),R(),M(),w()});})();
