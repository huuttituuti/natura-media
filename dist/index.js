"use strict";(()=>{function H(){var o;let t=document.querySelectorAll("[stamp='item']"),e=document.querySelectorAll("[stamp='card']"),n=[],c=[];for(let h=0;h<t.length;h++){let g=(o=t[h].querySelector("[stamp='type']"))==null?void 0:o.textContent,d=t[h].querySelector("[stamp='image']"),b=t[h].querySelectorAll("[stamp='product']"),L=document.querySelectorAll("[stamp='name']");for(let s=0;s<L.length;s++)c.push(L[s].textContent);n=Array.from(b).map(s=>s.textContent),n.some(s=>{if(c!=null&&c.includes(s)){for(let y=0;y<e.length;y++)if(e[y].innerHTML.includes(s)){let a=e[y].parentElement,S=a==null?void 0:a.parentElement;S==null||S.prepend(a),g!=null&&g.includes("Suosittelee")?(e[y].append(d==null?void 0:d.cloneNode(!0)),e[y].setAttribute("fs-cmssort-field","ajankohtaiset")):g!=null&&g.includes("Uutuus")&&(d==null||d.classList.add("uutuus"),e[y].append(d==null?void 0:d.cloneNode(!0)),e[y].setAttribute("fs-cmssort-field","ajankohtaiset"))}}})}let p=document.querySelector("[stamp='list-wrp']");p==null||p.remove()}function w(){let t=document.querySelector("[html-table='content']");if(t.textContent){let e=t.querySelector("strong").textContent,n=document.querySelector("[html-table='container"),c=document.createElement("table");c.classList.add("table"),n==null||n.appendChild(c);let p=c.createTHead();p.classList.add("table_thead");let o=c.createTBody(),h=Array.from(e.split("|")),g=p.insertRow(0),d=h[0];g.insertCell(0).innerHTML=d;let b=h.slice(1,-1);for(let l=0;l<b.length;l++){let u=g.insertCell();u.innerHTML=b[l],u.style.paddingLeft=".25rem",u.style.paddingRight=".25rem",u.style.textAlign="center"}let L=h.slice(-1),s=g.insertCell(-1);s.innerHTML=L,s.style.textAlign="right",s.style.paddingRight="1rem";let y=p.querySelectorAll("td").length,a=[],S=t.querySelectorAll("p");for(let l=0;l<S.length;l++)S[l].innerHTML.includes("<strong>")||a.push(S[l]);let q=[];for(let l=0;l<a.length;l++){let u=o.insertRow(),m=a[l].textContent;if(m[0]==="*")q.push(a[l]);else{let r=Array.from(m.split("|")),i=r[0],f=u.insertCell(0);f.innerHTML=i,f.style.paddingRight=".25rem";let T=r.slice(1);for(let x=0;x<T.length;x++){let A=u.insertCell();A.innerHTML=T[x],A.style.paddingLeft=".25rem",A.style.paddingRight=".25rem",y===2||T[x].includes("%")?(A.style.textAlign="right",A.style.paddingRight="1rem"):A.style.textAlign="center"}}let C=document.querySelectorAll("td");for(let r=0;r<C.length;r++)C[r].textContent[0]==="-"&&C[r].classList.add("padThisCell");if(a[l].innerHTML.includes("<em>")){let r=a[l].querySelector("em").textContent,i=o.querySelectorAll("td");for(let f=0;f<i.length;f++)i[f].innerHTML.includes(r)&&(i[f].innerHTML=i[f].innerHTML.replace(r,`<em>${r}</em>`))}t.style.display="none"}if(q.length>0){for(let m=0;m<q.length;m++){let C=q[m].textContent,r=o.insertRow();if(C[1]==="%"){let i=r.insertCell(0);i.innerHTML=C,i.colSpan=100}else{let i=C.slice(1),f=r.insertCell(0);f.innerHTML=i,f.colSpan=100}}let l=q[0].textContent.slice(1),u=o.querySelectorAll("tr");for(let m=0;m<u.length;m++)u[m].innerHTML.includes(l)&&u[m].classList.add("table_first-footnote")}}}function M(){let t=document.querySelector("[gallery='main-image']"),e=document.querySelector("[gallery='list']"),n=document.querySelector("[gallery='info-card']"),c=document.querySelector("[gallery='list-wrp']"),p=document.querySelector("[gallery='desktop']"),o;n.getAttribute("gallery-location")&&(o=Number(n.getAttribute("gallery-location"))-1),e.childElementCount===0?(c.remove(),n.getAttribute("gallery-location")?e.insertBefore(n,e.children[o]):n.insertAdjacentElement("afterend",t)):e.childElementCount===1?n.getAttribute("gallery-location")?e.insertBefore(n,e.children[o]):p.insertBefore(t,e.children[1]):e.childElementCount>1&&(e.insertBefore(t,e.children[1]),n.getAttribute("gallery-location")?(e.insertBefore(n,e.children[o]),e.insertBefore(t,e.children[1])):e.insertBefore(n,e.children[3]))}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{H(),M(),w();let t=document.querySelector("[allergen-name='Vegaaninen']");t==null||t.remove()});})();
